<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artists ‚Ä¢ EchoReviews</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="/css/header-footer.css">
    <link rel="stylesheet" href="/css/search.css">
    <link rel="stylesheet" href="/css/list.css">

    <link rel="icon" type="image/x-icon" href="/images/logo3.png">

</head>



<body>

<div th:replace="~{fragments/header :: header}"></div>

<div class="container mt-4">
    <!-- Paneles de Administraci√≥n -->
    <div class="mb-4">
        <div class="row text-center">
            <div class="col-3">
                <a href="/admin" class="btn btn-primary w-100">Album Panel</a>
            </div>
            <div class="col-3">
                <a href="/admin/artists" class="btn btn-primary w-100">Artist Panel</a>
            </div>
            <div class="col-3">
                <a href="/admin/reviews" class="btn btn-primary w-100">Reviews Panel</a>
            </div>
            <div class="col-3">
                <a href="/admin/users" class="btn btn-primary w-100">User Panel</a>
            </div>
        </div>
    </div>
    <div class="d-flex justify-content-between align-items-center mb-4">

        <h2 id="sectionTitle" class="mb-4">Artists Admin View (We are cookedüôè)</h2>


        <div class="d-flex gap-2 align-items-center">
            <!--
            <input type="text" id="searchInput" class="form-control w-auto" placeholder="Search artists..." oninput="filterArtists()">
            <button id="viewToggle" class="btn btn-outline-primary" onclick="toggleView()" title="Toggle grid view">
                <i class="bi bi-grid-3x3-gap-fill"></i>
            </button>
            -->
            <a href="/artists/new" class="btn btn-primary">Add New Artist</a>
        </div>
    </div>

    <div class="alert alert-info d-none" id="noResults">
        No artists found matching your search.
    </div>


    <div id="artistsGrid" class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
        <div th:each="artist : ${artists}" class="col" th:data-name="${artist.name.toLowerCase()}">
            <div class="card h-100 shadow-sm hover-effect">
                <a th:href="@{/artists/{id}(id=${artist.id})}" class="text-decoration-none">
                    <img th:src="${artist.imageUrl}" class="card-img-top" alt="Artist Image">
                    <div class="card-body">
                        <h5 class="card-title" th:text="${artist.name}">Artist Name</h5>

                    </div>

                </a>

                <div class="card-footer bg-transparent border-0">
                    <div class="d-flex justify-content-end">
                        <a th:href="@{/artists/{id}/edit(id=${artist.id})}" class="button">
                            <svg viewBox="0 0 512 512" class="svgIcon">
                                <path d="M362.7 19.3c25-25 65.5-25 90.5 0l39.5 39.5c25 25 25 65.5 0 90.5L177.3 464H64V350.7L362.7 19.3z"></path>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div th:replace="~{fragments/footer :: footer}"></div>
<!--
<style>
    .hover-effect {
        transition: transform 0.2s ease-in-out;
    }
    .hover-effect:hover {
        transform: translateY(-5px);
    }
    .artist-card img {
        height: 200px;
        object-fit: cover;
    }
</style>

<script>
    function filterArtists() {
        const searchInput = document.getElementById("searchInput").value.toLowerCase();
        const artistCards = document.querySelectorAll("#artistsGrid .col");
        let hasResults = false;

        artistCards.forEach(card => {
            const artistName = card.getAttribute("data-name");
            if (artistName.includes(searchInput)) {
                card.style.display = "";
                hasResults = true;
            } else {
                card.style.display = "none";
            }
        });

        document.getElementById("noResults").classList.toggle("d-none", hasResults);
    }

    function clearSearch() {
        document.getElementById("searchInput").value = "";
        filterArtists();
    }

    function toggleView() {
        const grid = document.getElementById('artistsGrid');
        const button = document.getElementById('viewToggle');
        const isCompact = grid.classList.contains('row-cols-lg-4');

        if (isCompact) {
            grid.classList.replace('row-cols-lg-4', 'row-cols-lg-3');
            button.innerHTML = '<i class="bi bi-grid-3x3-gap-fill"></i>';
        } else {
            grid.classList.replace('row-cols-lg-3', 'row-cols-lg-4');
            button.innerHTML = '<i class="bi bi-grid-fill"></i>';
        }
    }
</script>
-->
</body>
</html>